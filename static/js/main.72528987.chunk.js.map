{"version":3,"sources":["Utils/Common.js","Components/HeaderTitle.js","Components/CommentForm.js","Components/App.js","Components/FrontPage.js","Components/PostDetail.js","Components/PostForm.js","Components/PostCreate.js","Components/PostDelete.js","Components/PostUpdate.js","Components/LogIn.js","Components/Dashboard.js","Utils/PrivateRoute.js","Utils/PublicRoute.js","Components/Routes.js","index.js"],"names":["getUser","userStr","sessionStorage","getItem","JSON","parse","getToken","removeUserSession","removeItem","setUserSession","token","user","setItem","stringify","useFormInput","initialValue","useState","value","setValue","onChange","e","target","HeaderTitle","props","adminMode","className","onClick","history","push","pathname","state","username","to","CommentInput","postId","loggedInMode","content","submissionURL","handleSubmit","a","axios","post","then","response","catch","err","console","log","type","name","placeholder","App","posts","setPosts","comments","setComments","ExtraButtonDisplay","fetchIndexData","fetch","mode","indexResponse","json","index","useEffect","Comments","map","comment","_id","dateComment","Date","timeStamp","formattedDateComment","format","Posts","datePost","formattedDatePost","href","title","id","CommentForm","FrontPage","PostDetail","useParams","postDetail","setPostDetail","fetchPostData","postResponse","PostContent","FormComponent","setTitle","setContent","processPOST","url","updateMode","error","PostCreate","DeletePost","deleteGet","get","data","handleDelete","PostUpdate","updateGet","LogIn","password","setError","loading","setLoading","handleLogin","useRef","status","message","onSubmit","preventDefault","postSubmission","autoComplete","style","color","disabled","Dashboard","PrivateRoute","Component","component","rest","render","from","location","PublicRoute","Routes","authLoading","setAuthLoading","verifyTokenGet","basename","process","exact","path","PostDelete","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.72528987.chunk.js","sourcesContent":["import { useState } from \"react\";\n\n// return the user data from the session storage\nexport const getUser = () => {\n  const userStr = sessionStorage.getItem(\"user\");\n  if (userStr) return JSON.parse(userStr);\n  else return null;\n};\n\n// return the token from the session storage\nexport const getToken = () => {\n  return sessionStorage.getItem(\"token\") || null;\n};\n\n// remove the token and user from the session storage\nexport const removeUserSession = () => {\n  sessionStorage.removeItem(\"token\");\n  sessionStorage.removeItem(\"user\");\n};\n\n// set the token and user from the session storage\nexport const setUserSession = (token, user) => {\n  sessionStorage.setItem(\"token\", token);\n  sessionStorage.setItem(\"user\", JSON.stringify(user));\n};\n\nexport const useFormInput = (initialValue) => {\n  const [value, setValue] = useState(initialValue);\n  const handleChange = (e) => {\n    setValue(e.target.value);\n  };\n  return {\n    value,\n    onChange: handleChange,\n  };\n};\n","import { getUser, removeUserSession } from \"../Utils/Common\";\nimport { Link } from \"react-router-dom\";\n\nconst HeaderTitle = (props) => {\n  const user = getUser();\n  const handleLogout = () => {\n    removeUserSession();\n    props.history.push(\"/log-in\");\n  };\n\n  const goToCreatePost = () => {\n    props.history.push({\n      pathname: \"/post/create\",\n      state: { adminMode: props.adminMode },\n    });\n  };\n\n  const backToDashboard = () => {\n    props.history.push({\n      pathname: \"/dashboard\",\n      state: { adminMode: props.adminMode },\n    });\n  };\n\n  if (props.adminMode) {\n    return (\n      <div className=\"ui dividing clearing segment\">\n        <h1 className=\"ui left floated header\" onClick={backToDashboard}>\n          Blog App\n        </h1>\n\n        <div className=\"ui right floated header\">\n          <button className=\"ui button\" onClick={goToCreatePost}>\n            <h3>Create New Post</h3>\n          </button>\n          <button className=\"ui button\" onClick={handleLogout}>\n            <h3>Sign Out</h3>\n          </button>\n        </div>\n        <div className=\"ui right floated header\">Welcome, {user.username}!</div>\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"ui dividing clearing segment\">\n        <Link to={{ pathname: \"/\" }}>\n          <button className=\"ui left floated header\">Blog App</button>\n        </Link>\n        <div className=\"ui right floated header\">\n          <Link to={{ pathname: \"/log-in\" }}>\n            <button className=\"ui button\">Log In</button>\n          </Link>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default HeaderTitle;\n","import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useFormInput } from \"../Utils/Common\";\n\nconst CommentInput = (props) => {\n  const { postId, loggedInMode } = props;\n  const user = useFormInput(\"\");\n  const content = useFormInput(\"\");\n  const submissionURL = \"/\";\n\n  if (loggedInMode) {\n    submissionURL = \"/dashboard\";\n  }\n\n  const handleSubmit = async () => {\n    await axios\n      .post(\"/comment/create\", {\n        content: content.value,\n        user: user.value,\n        post: postId,\n      })\n      .then((response) => {\n        props.history.push({ submissionURL });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  return (\n    <>\n      <form className=\"ui form\">\n        <div className=\"field\">\n          <label>Name</label>\n          <input type=\"text\" name=\"name\" placeholder=\"Your Name\" {...user} />\n        </div>\n        <div className=\"field\">\n          <label>Comment</label>\n          <input\n            type=\"text\"\n            name=\"comment\"\n            placeholder=\"Input Comment Here\"\n            {...content}\n          />\n        </div>\n        <a className=\"ui button\" type=\"submit\" onClick={handleSubmit}>\n          Submit\n        </a>\n      </form>\n    </>\n  );\n};\n\nexport default CommentInput;\n","import { useEffect, useState } from \"react\";\nimport { format } from \"date-fns\";\nimport HeaderTitle from \"./HeaderTitle\";\nimport CommentForm from \"./CommentForm\";\nimport CommentInput from \"./CommentForm\";\nimport { Link } from \"react-router-dom\";\n\nfunction App(props) {\n  const user = props.user;\n  const [posts, setPosts] = useState([]);\n  const [comments, setComments] = useState([]);\n  let loggedInMode = false;\n\n  const ExtraButtonDisplay = (props) => {\n    if (user) {\n      loggedInMode = true;\n      return (\n        <>\n          <div className=\"right floated column\">\n            <Link\n              to={{\n                pathname: \"post/\" + props.postId + \"/delete\",\n                props: props,\n              }}\n            >\n              <i className=\"delete icon\" />\n            </Link>\n\n            <Link\n              to={{\n                pathname: \"post/\" + props.postId + \"/update\",\n                props: props,\n              }}\n            >\n              <i className=\"edit icon\" />\n            </Link>\n          </div>\n        </>\n      );\n    }\n    return null;\n  };\n\n  const fetchIndexData = async () => {\n    try {\n      const indexResponse = await fetch(\n        \"https://afternoon-headland-20920.herokuapp.com/\",\n        {\n          mode: \"cors\",\n        }\n      );\n      const index = await indexResponse.json();\n      setPosts(index.posts);\n      setComments(index.comments);\n      // console.log(posts);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    fetchIndexData();\n  }, [props]);\n\n  const Comments = (props) => {\n    const { comments, postId } = props;\n    return comments.map((comment, index) => {\n      // console.log(comment);\n      if (comment.post._id === postId) {\n        const dateComment = new Date(comment.timeStamp);\n        const formattedDateComment = format(\n          dateComment,\n          \"yyyy-MMMM-dd kk:mm:ss\"\n        );\n        return (\n          <div className=\"comment\">\n            <div className=\"content\">\n              <a className=\"author\"> {comment.user} </a>\n              <div className=\"metadata\">\n                <span className=\"date\">{formattedDateComment}</span>\n              </div>\n              <div className=\"text\">\n                <p>{comment.content}</p>\n              </div>\n            </div>\n          </div>\n        );\n      }\n    });\n  };\n\n  const Posts = (props) => {\n    const { posts, comments } = props;\n    return posts.map((post, index) => {\n      const datePost = new Date(post.timeStamp);\n      const formattedDatePost = format(datePost, \"yyyy-MMMM-dd kk:mm:ss\");\n\n      return (\n        <div className=\"ui raised very padded text container segment\">\n          <div className=\"ui grid\">\n            <div className=\"left floated fourteen wide column\">\n              <h2 className=\"ui header\">\n                <a href={\"/post/\" + post._id}>{post.title}</a>\n              </h2>\n            </div>\n            <ExtraButtonDisplay postId={post.id} />\n          </div>\n\n          <p>\n            by {post.username} on {formattedDatePost}\n          </p>\n          <p>{post.content}</p>\n\n          <div className=\"ui comments \">\n            <h3 className=\"ui dividing header \">Comments</h3>\n            <Comments comments={comments} postId={post._id} />\n            <CommentForm\n              postId={post._id}\n              loggedInMode={loggedInMode}\n              {...props}\n            />\n          </div>\n        </div>\n      );\n    });\n  };\n\n  return (\n    <>\n      <Posts posts={posts} comments={comments} {...props} />\n    </>\n  );\n}\n\nexport default App;\n","import App from \"./App\";\nimport HeaderTitle from \"./HeaderTitle\";\n\nconst FrontPage = (props) => {\n  return (\n    <>\n      <HeaderTitle />\n      <App {...props} />\n    </>\n  );\n};\n\nexport default FrontPage;\n","import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport HeaderTitle from \"./HeaderTitle\";\nimport { getUser } from \"../Utils/Common\";\n\nconst PostDetail = (props) => {\n  const user = getUser();\n  const { id } = useParams();\n  const [postDetail, setPostDetail] = useState([]);\n  let adminMode = false;\n\n  if (user) {\n    adminMode = true;\n  } else adminMode = false;\n\n  const fetchPostData = async () => {\n    try {\n      const response = await fetch(\"/post/\" + id, {\n        mode: \"cors\",\n      });\n\n      const postResponse = await response.json();\n      setPostDetail(postResponse);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    fetchPostData();\n  }, []);\n\n  const PostContent = () => {\n    return (\n      <div className=\"ui raised very padded text container segment\">\n        <h1 className=\"ui header\">{postDetail[0] && postDetail[0].title}</h1>\n        <p>{postDetail[0] && postDetail[0].content}</p>\n      </div>\n    );\n  };\n\n  return (\n    <>\n      <HeaderTitle adminMode={adminMode} {...props} />\n      <PostContent />\n    </>\n  );\n};\n\nexport default PostDetail;\n","import axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport { useFormInput, setUserSession, getUser } from \"../Utils/Common\";\nimport { useParams } from \"react-router-dom\";\n\nconst FormComponent = (props) => {\n  const user = getUser();\n  const { id } = useParams();\n\n  // const title = useFormInput(props.title);\n  const [title, setTitle] = useState(props.title);\n  const [content, setContent] = useState(props.content);\n  // const content = useFormInput(props.content);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    setTitle(props.title);\n    setContent(props.content);\n    // console.log(title);\n  }, [props.title, props.content]);\n\n  const handleTitleChange = (e) => {\n    setTitle(e.target.value);\n  };\n\n  const handleContentChange = (e) => {\n    setContent(e.target.value);\n  };\n\n  const processPOST = async () => {\n    let url = \"\";\n    if (props.updateMode) {\n      url = `/post/${id}/update`;\n    } else {\n      url = \"/post/create\";\n    }\n    await axios\n      .post(url, {\n        title: title,\n        content: content,\n        user: user.username,\n      })\n      .then((response) => {\n        // setLoading(false);\n        // console.log(response.data.token);\n        // console.log(response.data);\n        // setUserSession(response.data.token, response.data.user);\n        props.history.push(\"/dashboard\");\n      })\n      .catch((error) => {\n        console.log(error);\n        // setLoading(false);\n        // if (error.response.status === 401)\n        //   setError(error.response.data.message);\n        // else setError(\"Something went wrong. Please try again later\");\n      });\n    // props.history.push(\"/dashboard\");\n  };\n\n  return (\n    <form className=\"ui raised very padded text container segmented form\">\n      <div className=\"field\">\n        <label>Post Title</label>\n        <input\n          type=\"text\"\n          name=\"title\"\n          value={title}\n          onChange={handleTitleChange}\n        ></input>\n      </div>\n      <div className=\"field\">\n        <label>Post Contents</label>\n        <textarea\n          type=\"text\"\n          name=\"content\"\n          value={content}\n          onChange={handleContentChange}\n        ></textarea>\n      </div>\n\n      <a className=\"ui button\" type=\"submit\" onClick={processPOST}>\n        Submit\n      </a>\n    </form>\n  );\n};\n\nexport default FormComponent;\n","import HeaderTitle from \"./HeaderTitle\";\nimport { getUser } from \"../Utils/Common\";\nimport FormComponent from \"./PostForm\";\n\nconst PostCreate = (props) => {\n  const user = getUser();\n  let adminMode = false;\n  if (user) {\n    adminMode = true;\n  } else {\n    adminMode = false;\n  }\n\n  return (\n    <>\n      <HeaderTitle adminMode={adminMode} {...props} username={user.username} />\n      <FormComponent username={user.username} {...props} />\n    </>\n  );\n};\n\nexport default PostCreate;\n","import HeaderTitle from \"./HeaderTitle\";\nimport { useParams } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst DeletePost = (props) => {\n  const { id } = useParams();\n  const [postDetail, setPostDetail] = useState([]);\n\n  const deleteGet = async () => {\n    await axios\n      .get(`/post/${id}/delete`)\n      .then((response) => {\n        setPostDetail(response.data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  useEffect(() => {\n    deleteGet();\n  }, []);\n\n  const handleDelete = async () => {\n    await axios\n      .post(`/post/${id}/delete`)\n      .then((response) => {\n        console.log(\"success\");\n      })\n      .catch((error) => {\n        console.log(\"fall to error\");\n        console.log(error);\n      });\n    props.history.push({ pathname: \"/dashboard\" });\n  };\n\n  return (\n    <>\n      <h3>\n        Are you sure that you want to delete this post named {postDetail.title}?\n      </h3>\n      <a>\n        <button className=\"ui positive button\" onClick={handleDelete}>\n          Yes\n        </button>\n      </a>\n      <a href=\"/dashboard\">\n        <button className=\"ui negative button\">No</button>\n      </a>\n    </>\n  );\n};\n\nexport default DeletePost;\n","import axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { getUser } from \"../Utils/Common\";\nimport HeaderTitle from \"./HeaderTitle\";\nimport { useParams } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport FormComponent from \"./PostForm\";\n\nconst PostUpdate = (props) => {\n  const user = getUser();\n  const { id } = useParams();\n  const [postDetail, setPostDetail] = useState([]);\n\n  let adminMode = false;\n\n  if (user) {\n    adminMode = true;\n  } else {\n    adminMode = false;\n  }\n\n  const updateGet = async () => {\n    await axios\n      .get(`/post/${id}/update`)\n      .then((response) => {\n        setPostDetail(response.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  useEffect(() => {\n    updateGet();\n  }, []);\n\n  return (\n    <>\n      <HeaderTitle adminMode={adminMode} {...props} />\n      <FormComponent\n        title={postDetail.title}\n        content={postDetail.content}\n        updateMode=\"true\"\n        {...props}\n      />\n    </>\n  );\n};\n\nexport default PostUpdate;\n","import HeaderTitle from \"./HeaderTitle\";\nimport postData from \"../postData\";\nimport { useEffect, useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport { setUserSession } from \"../Utils/Common\";\n\nconst LogIn = (props) => {\n  const username = useFormInput(\"\");\n  const password = useFormInput(\"\");\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const usernameInput = useRef();\n  const passwordInput = useRef();\n  // const [username, setUsername] = useState(\"\");\n  // const [password, setPassword] = useState(\"\");\n\n  const handleLogin = async () => {\n    setError(null);\n    setLoading(true);\n    await axios\n      .post(\"/log-in\", {\n        username: username.value,\n        password: password.value,\n      })\n      .then((response) => {\n        setLoading(false);\n        // console.log(response.data.token);\n        // console.log(response.data);\n        setUserSession(response.data.token, response.data.user);\n        props.history.push(\"/dashboard\");\n      })\n      .catch((error) => {\n        setLoading(false);\n        if (error.response.status === 401)\n          setError(error.response.data.message);\n        else setError(\"Something went wrong. Please try again later\");\n      });\n  };\n\n  const FormComponent = () => {\n    const postSubmission = (e) => {\n      e.preventDefault();\n    };\n\n    return (\n      <form\n        className=\"ui raised very padded text container segmented form\"\n        onSubmit={(e) => {\n          postSubmission(e);\n        }}\n      >\n        <div className=\"field\">\n          <label>Username</label>\n          <input\n            type=\"text\"\n            name=\"username\"\n            {...username}\n            autoComplete=\"new-password\"\n          ></input>\n        </div>\n        <div className=\"field\">\n          <label>Password</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            {...password}\n            autoComplete=\"new-password\"\n          ></input>\n        </div>\n        {error && (\n          <>\n            <small style={{ color: \"red\" }}>{error}</small>\n            <br />\n          </>\n        )}\n        <br />\n        <button\n          className=\"ui button\"\n          type=\"submit\"\n          value={loading ? \"Loading...\" : \"Login\"}\n          onClick={handleLogin}\n          disabled={loading}\n        >\n          Submit\n        </button>\n      </form>\n    );\n  };\n\n  return (\n    <>\n      <HeaderTitle />\n      {/* <FormComponent key=\"form1\" /> */}\n      {FormComponent()}\n    </>\n  );\n};\n\nconst useFormInput = (initialValue) => {\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = (e) => {\n    setValue(e.target.value);\n  };\n  return {\n    value,\n    onChange: handleChange,\n  };\n};\n\nexport default LogIn;\n","import React from \"react\";\nimport { getUser } from \"../Utils/Common\";\nimport App from \"./App\";\nimport HeaderTitle from \"./HeaderTitle\";\n\nconst Dashboard = (props) => {\n  const user = getUser();\n\n  return (\n    <div>\n      <HeaderTitle adminMode={true} {...props} username={user.username} />\n      <App user={user.username} {...props} />\n    </div>\n  );\n};\n\nexport default Dashboard;\n","import React, { Component } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { getToken } from \"./Common\";\n\n// handle the private routes\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        getToken() ? (\n          <Component {...props} />\n        ) : (\n          <Redirect\n            to={{ pathname: \"/log-in\", state: { from: props.location } }}\n          />\n        )\n      }\n    />\n  );\n};\n\nexport default PrivateRoute;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { getToken } from \"./Common\";\n\n// handle the public routes\nconst PublicRoute = ({ component: Component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        !getToken() ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to={{ pathname: \"/dashboard\" }} />\n        )\n      }\n    />\n  );\n};\n\nexport default PublicRoute;\n","import React, { useEffect, useState } from \"react\";\nimport { HashRouter, BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport App from \"./App\";\nimport FrontPage from \"./FrontPage\";\nimport PostDetail from \"./PostDetail\";\nimport PostCreate from \"./PostCreate\";\nimport PostDelete from \"./PostDelete\";\nimport PostUpdate from \"./PostUpdate\";\nimport LogIn from \"./LogIn\";\nimport Dashboard from \"./Dashboard\";\nimport PrivateRoute from \"../Utils/PrivateRoute\";\nimport PublicRoute from \"../Utils/PublicRoute\";\nimport { getToken, removeUserSession, setUserSession } from \"../Utils/Common\";\nimport axios from \"axios\";\n\nconst Routes = () => {\n  const [authLoading, setAuthLoading] = useState(true);\n\n  const verifyTokenGet = async (token) => {\n    await axios\n      .get(`/verifyToken?token=${token}`)\n      .then((response) => {\n        setUserSession(response.data.token, response.data.user);\n        setAuthLoading(false);\n      })\n      .catch((error) => {\n        removeUserSession();\n        setAuthLoading(false);\n      });\n  };\n\n  useEffect(() => {\n    const token = getToken();\n    if (!token) {\n      return;\n    }\n    verifyTokenGet(token);\n  }, []);\n\n  if (authLoading && getToken()) {\n    return <div>Checking Authentication...</div>;\n  }\n\n  return (\n    <HashRouter basename={process.env.PUBLIC_URL}>\n      <Switch>\n        <Route exact path=\"/\" component={FrontPage} />\n        <PrivateRoute exact path=\"/post/create\" component={PostCreate} />\n        <Route exact path=\"/post/:id\" component={PostDetail} />\n        <PrivateRoute exact path=\"/post/:id/delete\" component={PostDelete} />\n        <PrivateRoute exact path=\"/post/:id/update\" component={PostUpdate} />\n        <PublicRoute exact path=\"/log-in\" component={LogIn} />\n        <PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\n      </Switch>\n    </HashRouter>\n  );\n};\n\nexport default Routes;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport FrontPage from \"./Components/FrontPage\";\nimport Routes from \"./Components/Routes\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Routes />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}