[{"/Users/try/Desktop/JavaScript/projects/blogappclient/src/index.js":"1","/Users/try/Desktop/JavaScript/projects/blogappclient/src/Components/Routes.js":"2","/Users/try/Desktop/JavaScript/projects/blogappclient/src/Components/App.js":"3","/Users/try/Desktop/JavaScript/projects/blogappclient/src/Components/HeaderTitle.js":"4","/Users/try/Desktop/JavaScript/projects/blogappclient/src/Components/PostDetail.js":"5","/Users/try/Desktop/JavaScript/projects/blogappclient/src/Components/PostCreate.js":"6","/Users/try/Desktop/JavaScript/projects/blogappclient/src/postData.js":"7","/Users/try/Desktop/JavaScript/projects/blogappclient/src/Components/LogIn.js":"8","/Users/try/Desktop/JavaScript/projects/blogappclient/src/Components/Dashboard.js":"9","/Users/try/Desktop/JavaScript/projects/blogappclient/src/Utils/Common.js":"10","/Users/try/Desktop/JavaScript/projects/blogappclient/src/Utils/PrivateRoute.js":"11","/Users/try/Desktop/JavaScript/projects/blogappclient/src/Utils/PublicRoute.js":"12","/Users/try/Desktop/JavaScript/projects/blogappclient/src/Components/FrontPage.js":"13","/Users/try/Desktop/JavaScript/projects/blogappclient/src/Components/PostForm.js":"14","/Users/try/Desktop/JavaScript/projects/blogappclient/src/Components/PostDelete.js":"15","/Users/try/Desktop/JavaScript/projects/blogappclient/src/Components/PostUpdate.js":"16"},{"size":217,"mtime":1610108442667,"results":"17","hashOfConfig":"18"},{"size":1775,"mtime":1610875737081,"results":"19","hashOfConfig":"18"},{"size":3007,"mtime":1610892675250,"results":"20","hashOfConfig":"18"},{"size":1489,"mtime":1610865471447,"results":"21","hashOfConfig":"18"},{"size":1165,"mtime":1610867120008,"results":"22","hashOfConfig":"18"},{"size":474,"mtime":1610872142571,"results":"23","hashOfConfig":"18"},{"size":397,"mtime":1610209408504,"results":"24","hashOfConfig":"18"},{"size":2717,"mtime":1610897150000,"results":"25","hashOfConfig":"18"},{"size":372,"mtime":1610807864631,"results":"26","hashOfConfig":"18"},{"size":964,"mtime":1610898455025,"results":"27","hashOfConfig":"18"},{"size":528,"mtime":1610625291040,"results":"28","hashOfConfig":"18"},{"size":459,"mtime":1610377965666,"results":"29","hashOfConfig":"18"},{"size":190,"mtime":1610633046791,"results":"30","hashOfConfig":"18"},{"size":2459,"mtime":1610947982657,"results":"31","hashOfConfig":"18"},{"size":1168,"mtime":1610871948432,"results":"32","hashOfConfig":"18"},{"size":982,"mtime":1610939671825,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"50ie1n",{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"36"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"36"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"36"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"36"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"36"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"68","messages":"69","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"36"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/try/Desktop/JavaScript/projects/blogappclient/src/index.js",[],["73","74"],"/Users/try/Desktop/JavaScript/projects/blogappclient/src/Components/Routes.js",["75"],"import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport App from \"./App\";\nimport FrontPage from \"./FrontPage\";\nimport PostDetail from \"./PostDetail\";\nimport PostCreate from \"./PostCreate\";\nimport PostDelete from \"./PostDelete\";\nimport PostUpdate from \"./PostUpdate\";\nimport LogIn from \"./LogIn\";\nimport Dashboard from \"./Dashboard\";\nimport PrivateRoute from \"../Utils/PrivateRoute\";\nimport PublicRoute from \"../Utils/PublicRoute\";\nimport { getToken, removeUserSession, setUserSession } from \"../Utils/Common\";\nimport axios from \"axios\";\n\nconst Routes = () => {\n  const [authLoading, setAuthLoading] = useState(true);\n\n  useEffect(() => {\n    const token = getToken();\n    if (!token) {\n      return;\n    }\n    axios\n      .get(`http://localhost:5000/verifyToken?token=${token}`)\n      .then((response) => {\n        setUserSession(response.data.token, response.data.user);\n        setAuthLoading(false);\n      })\n      .catch((error) => {\n        removeUserSession();\n        setAuthLoading(false);\n      });\n  }, []);\n\n  if (authLoading && getToken()) {\n    return <div>Checking Authentication...</div>;\n  }\n\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route exact path=\"/\" component={FrontPage} />\n        <PrivateRoute exact path=\"/post/create\" component={PostCreate} />\n        <Route exact path=\"/post/:id\" component={PostDetail} />\n        <PrivateRoute exact path=\"/post/:id/delete\" component={PostDelete} />\n        <PrivateRoute exact path=\"/post/:id/update\" component={PostUpdate} />\n        <PublicRoute exact path=\"/log-in\" component={LogIn} />\n        <PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\n      </Switch>\n    </BrowserRouter>\n  );\n};\n\nexport default Routes;\n","/Users/try/Desktop/JavaScript/projects/blogappclient/src/Components/App.js",["76","77","78"],"import { useEffect, useState } from \"react\";\nimport { format } from \"date-fns\";\nimport HeaderTitle from \"./HeaderTitle\";\n\nfunction App(props) {\n  const user = props.user;\n  const [posts, setPosts] = useState([]);\n  const [comments, setComments] = useState([]);\n  const ExtraButtonDisplay = (props) => {\n    if (user) {\n      return (\n        <>\n          <div className=\"right floated column\">\n            <a href={\"post/\" + props.postId + \"/delete\"}>\n              <i className=\"delete icon\" />\n            </a>\n            <a href={\"post/\" + props.postId + \"/update\"}>\n              <i className=\"edit icon\" />\n            </a>\n          </div>\n        </>\n      );\n    }\n    return null;\n  };\n\n  const fetchIndexData = async () => {\n    try {\n      const indexResponse = await fetch(\"http://localhost:5000/\", {\n        mode: \"cors\",\n      });\n      const index = await indexResponse.json();\n      setPosts(index.posts);\n      setComments(index.comments);\n      // console.log(posts);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    fetchIndexData();\n  }, []);\n\n  const Comments = (props) => {\n    const { comments, postId } = props;\n    return comments.map((comment, index) => {\n      // console.log(comment);\n      if (comment.post._id === postId) {\n        const dateComment = new Date(comment.timeStamp);\n        const formattedDateComment = format(\n          dateComment,\n          \"yyyy-MMMM-dd kk:mm:ss\"\n        );\n        return (\n          <div className=\"comment\">\n            <div className=\"content\">\n              <a className=\"author\"> {comment.user} </a>\n              <div className=\"metadata\">\n                <span className=\"date\">{formattedDateComment}</span>\n              </div>\n              <div className=\"text\">\n                <p>{comment.content}</p>\n              </div>\n            </div>\n          </div>\n        );\n      }\n    });\n  };\n\n  const Posts = (props) => {\n    const { posts, comments } = props;\n    return posts.map((post, index) => {\n      // console.log(post.id);\n      const datePost = new Date(post.timeStamp);\n      const formattedDatePost = format(datePost, \"yyyy-MMMM-dd kk:mm:ss\");\n\n      return (\n        <div className=\"ui raised very padded text container segment\">\n          <div className=\"ui grid\">\n            <div className=\"left floated fourteen wide column\">\n              <h2 className=\"ui header\">\n                <a href={\"/post/\" + post._id}>{post.title}</a>\n              </h2>\n            </div>\n            <ExtraButtonDisplay postId={post.id} />\n          </div>\n\n          <p>\n            by {post.username} on {formattedDatePost}\n          </p>\n          <p>{post.content}</p>\n\n          <div className=\"ui comments \">\n            <h3 className=\"ui dividing header \">Comments</h3>\n            <Comments comments={comments} postId={post._id} />\n          </div>\n        </div>\n      );\n    });\n  };\n\n  return (\n    <>\n      <Posts posts={posts} comments={comments} />\n    </>\n  );\n}\n\nexport default App;\n","/Users/try/Desktop/JavaScript/projects/blogappclient/src/Components/HeaderTitle.js",[],"/Users/try/Desktop/JavaScript/projects/blogappclient/src/Components/PostDetail.js",["79"],"import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport HeaderTitle from \"./HeaderTitle\";\nimport { getUser } from \"../Utils/Common\";\n\nconst PostDetail = (props) => {\n  const user = getUser();\n  const { id } = useParams();\n  const [postDetail, setPostDetail] = useState([]);\n  let adminMode = false;\n\n  if (user) {\n    adminMode = true;\n  } else adminMode = false;\n\n  const fetchPostData = async () => {\n    try {\n      const response = await fetch(\"http://localhost:5000/post/\" + id, {\n        mode: \"cors\",\n      });\n\n      const postResponse = await response.json();\n      setPostDetail(postResponse);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    fetchPostData();\n  }, []);\n\n  const PostContent = () => {\n    return (\n      <div className=\"ui raised very padded text container segment\">\n        <h1 className=\"ui header\">{postDetail[0] && postDetail[0].title}</h1>\n        <p>{postDetail[0] && postDetail[0].content}</p>\n      </div>\n    );\n  };\n\n  return (\n    <>\n      <HeaderTitle adminMode={adminMode} {...props} />\n      <PostContent />\n    </>\n  );\n};\n\nexport default PostDetail;\n","/Users/try/Desktop/JavaScript/projects/blogappclient/src/Components/PostCreate.js",[],"/Users/try/Desktop/JavaScript/projects/blogappclient/src/postData.js",[],"/Users/try/Desktop/JavaScript/projects/blogappclient/src/Components/LogIn.js",["80","81","82","83"],"import HeaderTitle from \"./HeaderTitle\";\nimport postData from \"../postData\";\nimport { useEffect, useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport { setUserSession } from \"../Utils/Common\";\n\nconst LogIn = (props) => {\n  const username = useFormInput(\"\");\n  const password = useFormInput(\"\");\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const usernameInput = useRef();\n  const passwordInput = useRef();\n  // const [username, setUsername] = useState(\"\");\n  // const [password, setPassword] = useState(\"\");\n\n  const handleLogin = () => {\n    setError(null);\n    setLoading(true);\n    axios\n      .post(\"http://localhost:5000/log-in\", {\n        username: username.value,\n        password: password.value,\n      })\n      .then((response) => {\n        setLoading(false);\n        // console.log(response.data.token);\n        // console.log(response.data);\n        setUserSession(response.data.token, response.data.user);\n        props.history.push(\"/dashboard\");\n      })\n      .catch((error) => {\n        setLoading(false);\n        if (error.response.status === 401)\n          setError(error.response.data.message);\n        else setError(\"Something went wrong. Please try again later\");\n      });\n  };\n\n  const FormComponent = () => {\n    // const postSubmission = (e) => {\n    //   e.preventDefault();\n    // };\n\n    return (\n      <form className=\"ui raised very padded text container segmented form\">\n        <div className=\"field\">\n          <label>Username</label>\n          <input\n            type=\"text\"\n            name=\"username\"\n            {...username}\n            autoComplete=\"new-password\"\n          ></input>\n        </div>\n        <div className=\"field\">\n          <label>Password</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            {...password}\n            autoComplete=\"new-password\"\n          ></input>\n        </div>\n        {error && (\n          <>\n            <small style={{ color: \"red\" }}>{error}</small>\n            <br />\n          </>\n        )}\n        <br />\n        <button\n          className=\"ui button\"\n          type=\"submit\"\n          value={loading ? \"Loading...\" : \"Login\"}\n          onClick={handleLogin}\n          disabled={loading}\n        >\n          Submit\n        </button>\n      </form>\n    );\n  };\n\n  return (\n    <>\n      <HeaderTitle />\n      {/* <FormComponent key=\"form1\" /> */}\n      {FormComponent()}\n    </>\n  );\n};\n\nconst useFormInput = (initialValue) => {\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = (e) => {\n    setValue(e.target.value);\n  };\n  return {\n    value,\n    onChange: handleChange,\n  };\n};\n\nexport default LogIn;\n","/Users/try/Desktop/JavaScript/projects/blogappclient/src/Components/Dashboard.js",[],"/Users/try/Desktop/JavaScript/projects/blogappclient/src/Utils/Common.js",[],"/Users/try/Desktop/JavaScript/projects/blogappclient/src/Utils/PrivateRoute.js",["84"],"import React, { Component } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { getToken } from \"./Common\";\n\n// handle the private routes\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        getToken() ? (\n          <Component {...props} />\n        ) : (\n          <Redirect\n            to={{ pathname: \"/log-in\", state: { from: props.location } }}\n          />\n        )\n      }\n    />\n  );\n};\n\nexport default PrivateRoute;\n","/Users/try/Desktop/JavaScript/projects/blogappclient/src/Utils/PublicRoute.js",[],"/Users/try/Desktop/JavaScript/projects/blogappclient/src/Components/FrontPage.js",[],"/Users/try/Desktop/JavaScript/projects/blogappclient/src/Components/PostForm.js",["85","86","87"],"/Users/try/Desktop/JavaScript/projects/blogappclient/src/Components/PostDelete.js",["88","89"],"import HeaderTitle from \"./HeaderTitle\";\nimport { useParams } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst DeletePost = (props) => {\n  const { id } = useParams();\n  const [postDetail, setPostDetail] = useState([]);\n\n  useEffect(() => {\n    axios\n      .get(`http://localhost:5000/post/${id}/delete`)\n      .then((response) => {\n        setPostDetail(response.data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n\n  const handleDelete = (props) => {\n    axios\n      .post(`http://localhost:5000/post/${id}/delete`)\n      .then((response) => {\n        // props.history.push(\"/dashboard\");\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  return (\n    <>\n      <h3>\n        Are you sure that you want to delete this post named {postDetail.title}?\n      </h3>\n      <a href=\"/dashboard\">\n        <button className=\"ui positive button\" onClick={handleDelete}>\n          Yes\n        </button>\n      </a>\n      <a href=\"/dashboard\">\n        <button className=\"ui negative button\">No</button>\n      </a>\n    </>\n  );\n};\n\nexport default DeletePost;\n","/Users/try/Desktop/JavaScript/projects/blogappclient/src/Components/PostUpdate.js",["90"],{"ruleId":"91","replacedBy":"92"},{"ruleId":"93","replacedBy":"94"},{"ruleId":"95","severity":1,"message":"96","line":3,"column":8,"nodeType":"97","messageId":"98","endLine":3,"endColumn":11},{"ruleId":"95","severity":1,"message":"99","line":3,"column":8,"nodeType":"97","messageId":"98","endLine":3,"endColumn":19},{"ruleId":"100","severity":1,"message":"101","line":47,"column":42,"nodeType":"102","messageId":"103","endLine":47,"endColumn":44},{"ruleId":"104","severity":1,"message":"105","line":58,"column":15,"nodeType":"106","endLine":58,"endColumn":37},{"ruleId":"107","severity":1,"message":"108","line":31,"column":6,"nodeType":"109","endLine":31,"endColumn":8,"suggestions":"110"},{"ruleId":"95","severity":1,"message":"111","line":2,"column":8,"nodeType":"97","messageId":"98","endLine":2,"endColumn":16},{"ruleId":"95","severity":1,"message":"112","line":3,"column":10,"nodeType":"97","messageId":"98","endLine":3,"endColumn":19},{"ruleId":"95","severity":1,"message":"113","line":12,"column":9,"nodeType":"97","messageId":"98","endLine":12,"endColumn":22},{"ruleId":"95","severity":1,"message":"114","line":13,"column":9,"nodeType":"97","messageId":"98","endLine":13,"endColumn":22},{"ruleId":"95","severity":1,"message":"115","line":1,"column":17,"nodeType":"97","messageId":"98","endLine":1,"endColumn":26},{"ruleId":"95","severity":1,"message":"116","line":3,"column":10,"nodeType":"97","messageId":"98","endLine":3,"endColumn":22},{"ruleId":"95","severity":1,"message":"117","line":14,"column":10,"nodeType":"97","messageId":"98","endLine":14,"endColumn":15},{"ruleId":"95","severity":1,"message":"118","line":15,"column":10,"nodeType":"97","messageId":"98","endLine":15,"endColumn":17},{"ruleId":"95","severity":1,"message":"99","line":1,"column":8,"nodeType":"97","messageId":"98","endLine":1,"endColumn":19},{"ruleId":"107","severity":1,"message":"119","line":19,"column":6,"nodeType":"109","endLine":19,"endColumn":8,"suggestions":"120"},{"ruleId":"107","severity":1,"message":"119","line":31,"column":6,"nodeType":"109","endLine":31,"endColumn":8,"suggestions":"121"},"no-native-reassign",["122"],"no-negated-in-lhs",["123"],"no-unused-vars","'App' is defined but never used.","Identifier","unusedVar","'HeaderTitle' is defined but never used.","array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchPostData'. Either include it or remove the dependency array.","ArrayExpression",["124"],"'postData' is defined but never used.","'useEffect' is defined but never used.","'usernameInput' is assigned a value but never used.","'passwordInput' is assigned a value but never used.","'Component' is defined but never used.","'useFormInput' is defined but never used.","'error' is assigned a value but never used.","'loading' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'id'. Either include it or remove the dependency array.",["125"],["126"],"no-global-assign","no-unsafe-negation",{"desc":"127","fix":"128"},{"desc":"129","fix":"130"},{"desc":"129","fix":"131"},"Update the dependencies array to be: [fetchPostData]",{"range":"132","text":"133"},"Update the dependencies array to be: [id]",{"range":"134","text":"135"},{"range":"136","text":"135"},[748,750],"[fetchPostData]",[503,505],"[id]",[733,735]]